<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/stylestests.css" />
    <title>Pixel drawing tests</title>
</head>

<body>
    <canvas id="canvaspixel" class="centerhorizontal centervertical" width=100 height=100></canvas>

    <script src="js/jquery-3.6.1.js"></script>
    <script>

        // code for testing pixel drawing
        // https://stackoverflow.com/questions/4899799/whats-the-best-way-to-set-a-single-pixel-in-an-html5-canvas
        var ctx = $("#canvaspixel")[0].getContext("2d");

        ctx.fillStyle = 'blue';
        ctx.fillRect(0, 0, 1, 1);
        ctx.fillRect(1, 1, 1, 1);

        const imageData = ctx.createImageData(20, 20);

        var gridToPrint = [
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 2, 2, 2, 2, 2, 2, 0,
            0, 0, 2, 2, 2, 2, 2, 2, 3, 0,
            0, 1, 1, 1, 1, 1, 1, 3, 3, 0,
            0, 1, 1, 1, 1, 1, 1, 3, 3, 0,
            0, 1, 1, 1, 1, 1, 1, 3, 3, 0,
            0, 1, 1, 1, 1, 1, 1, 3, 3, 0,
            0, 1, 1, 1, 1, 1, 1, 3, 0, 0,
            0, 1, 1, 1, 1, 1, 1, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        ];



        // For each point in the grid, draw 1 pixel
        function draw1pixel() {
           for (let i = 0; i < gridToPrint.length; i += 1) {
                // Draw 1st pixel in red
                if (gridToPrint[i] == 1) {
                    imageData.data[i*4 + 0] = 200;  // R value
                    imageData.data[i*4 + 1] = 0;    // G value
                    imageData.data[i*4 + 2] = 0;  // B value
                    imageData.data[i*4 + 3] = 255;  // A value
                // darker shade of red
                } else if (gridToPrint[i] == 2) {
                    imageData.data[i*4 + 0] = 150;  // R value
                    imageData.data[i*4 + 1] = 0;    // G value
                    imageData.data[i*4 + 2] = 0;  // B value
                    imageData.data[i*4 + 3] = 255;  // A value
                // even darker shade
                } else if (gridToPrint[i] == 3) {
                    imageData.data[i*4 + 0] = 100;  // R value
                    imageData.data[i*4 + 1] = 0;    // G value
                    imageData.data[i*4 + 2] = 0;  // B value
                    imageData.data[i*4 + 3] = 255;  // A value
                }
            }
        }



        // For each point in the grid, draw 4 pixels (if 1 pixel only is too small)
        function draw4pixels() {

            for (let i = 0; i < gridToPrint.length; i += 1) {
                //console.log("i:" + i + " " + (Math.floor(i/10)*160 + (i%10)*8) + " " + Math.floor(i/10)*160 + " " + (i%10)*8);
                
                // Draw 1st pixel in red
                if (gridToPrint[i] == 1) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 0] = 200;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 3] = 255;  // A value
                // darker shade of red
                } else if (gridToPrint[i] == 2) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 0] = 150;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 3] = 255;  // A value
                // even darker shade
                } else if (gridToPrint[i] == 3) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 0] = 100;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 3] = 255;  // A value
                }

                // Draw 2nd pixel in red
                if (gridToPrint[i] == 1) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 0] = 200;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 3] = 255;  // A value
                // darker shade of red
                } else if (gridToPrint[i] == 2) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 0] = 150;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 3] = 255;  // A value
                // even darker shade
                } else if (gridToPrint[i] == 3) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 0] = 100;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 4 + 3] = 255;  // A value
                }

                // Draw 3rd pixel in red (in the line below)
                if (gridToPrint[i] == 1) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 0] = 200;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 3] = 255;  // A value
                // darker shade of red
                } else if (gridToPrint[i] == 2) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 0] = 150;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 3] = 255;  // A value
                // even darker shade
                } else if (gridToPrint[i] == 3) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 0] = 100;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 80 + 3] = 255;  // A value
                }

                // Draw 4th pixel in red (also in the line below)
                if (gridToPrint[i] == 1) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 0] = 200;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 3] = 255;  // A value
                // darker shade of red
                } else if (gridToPrint[i] == 2) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 0] = 150;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 3] = 255;  // A value
                // even darker shade
                } else if (gridToPrint[i] == 3) {
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 0] = 100;  // R value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 1] = 0;    // G value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 2] = 0;  // B value
                    imageData.data[Math.floor(i/10)*160 + (i%10)*8 + 84 + 3] = 255;  // A value
                }
            }
        }

        draw4pixels();

        //console.log(imageData.data.length);
        ctx.putImageData(imageData, 5, 5);

    </script>
</body>

</html>